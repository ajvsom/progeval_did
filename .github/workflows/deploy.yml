on:
  push:
     branches:
       - main

name: Deploy Shiny App to shinyapps.io

jobs:
  deploy-shiny:
    name: Deploy to shinyapps.io
    runs-on: ubuntu-latest

    steps:
       - name: üõéÔ∏è Checkout repository
         uses: actions/checkout@v2
         with:
           fetch-depth: 0

       - name: Install system dependencies
         run: |
           sudo apt-get update
           sudo apt-get install -y libcurl4-openssl-dev libssl-dev

       - id: deploy
         name: üíé Deploy to shinyapps.io
         uses: qwert666/shinyapps-actions@main
         env:
           SHINY_USERNAME: 'ajvsom'  # Update with your shinyapps.io username
           SHINY_TOKEN: ${{ secrets.SHINY_TOKEN }}  
           SHINY_SECRET: ${{ secrets.SHINY_SECRET }}  
           APP_NAME: 'didAnalysis'  # Update this with your app name
           APP_DIR: 'didANALYSIS'  # Update this if your app is in a subfolder
